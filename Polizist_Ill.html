<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Szenenanalyse-Hilfe â€“ Der Besuch der alten Dame (Polizist/Ill)</title>
  <style>
    :root{
      --bg: #0b1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.09);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --line: rgba(255,255,255,.12);
      --accent: #8bd3ff;
      --good: #9cffc6;
      --warn: #ffd38b;
      --bad: #ff9aa2;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: var(--sans);
      background: radial-gradient(1200px 800px at 20% 10%, rgba(139,211,255,.18), transparent 55%),
                  radial-gradient(900px 700px at 80% 10%, rgba(156,255,198,.10), transparent 50%),
                  radial-gradient(1200px 900px at 50% 100%, rgba(255,211,139,.10), transparent 60%),
                  var(--bg);
      color: var(--text);
      line-height: 1.5;
    }
    header{
      padding: 28px 18px 10px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .topbar{
      display:flex;
      gap: 14px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    h1{
      font-size: clamp(1.25rem, 1.1rem + 1.4vw, 2rem);
      margin: 0;
      letter-spacing: .2px;
    }
    .subtitle{
      margin: 8px 0 0;
      color: var(--muted);
      max-width: 70ch;
    }
    .pillrow{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 16px;
    }
    .pill{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: .9rem;
      color: var(--muted);
    }
    main{
      max-width: 1100px;
      margin: 0 auto;
      padding: 12px 18px 42px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
    }
    @media (max-width: 920px){
      main{grid-template-columns: 1fr}
    }

    .card{
      border: 1px solid var(--line);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card header{
      padding: 16px 16px 10px;
      max-width:none;
    }
    .card h2{
      margin:0;
      font-size: 1.05rem;
    }
    .card p{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: .95rem;
    }
    .card .content{
      padding: 0 16px 16px;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 620px){
      .grid2{grid-template-columns: 1fr}
    }

    .controls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    button, .btn{
      appearance:none;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
      font-size: .92rem;
    }
    button:hover{background: rgba(255,255,255,.10)}
    button:active{transform: translateY(1px)}
    .btn-accent{
      border-color: rgba(139,211,255,.35);
      background: rgba(139,211,255,.12);
    }
    .btn-accent:hover{background: rgba(139,211,255,.18)}
    .btn-good{
      border-color: rgba(156,255,198,.35);
      background: rgba(156,255,198,.12);
    }

    .input, textarea, select{
      width:100%;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      outline:none;
      font-family: var(--sans);
      font-size: .95rem;
    }
    textarea{min-height: 170px; resize: vertical}
    .small{
      font-size:.88rem;
      color: var(--muted);
    }

    details{
      border: 1px solid var(--line);
      border-radius: 14px;
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    details + details{margin-top: 10px;}
    summary{
      list-style:none;
      cursor:pointer;
      padding: 12px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      user-select:none;
      font-weight: 650;
    }
    summary::-webkit-details-marker{display:none}
    .chev{
      width: 10px; height: 10px;
      border-right: 2px solid var(--muted);
      border-bottom: 2px solid var(--muted);
      transform: rotate(-45deg);
      transition: transform .2s ease;
      margin-left: auto;
    }
    details[open] .chev{transform: rotate(45deg)}
    .details-body{
      padding: 0 12px 12px;
      color: var(--muted);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .tag{
      display:inline-block;
      font-size: .8rem;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--line);
      color: var(--muted);
      background: rgba(255,255,255,.03);
      margin-right: 6px;
      margin-top: 6px;
    }
    .kpi{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 8px;
    }
    .kpi .box{
      flex:1;
      min-width: 150px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      border-radius: 14px;
      padding: 10px;
    }
    .kpi .label{color: var(--muted); font-size: .85rem}
    .kpi .value{font-family: var(--mono); margin-top: 6px; font-size: .95rem}

    .snippet{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.24);
      border-radius: 14px;
      padding: 10px;
      font-family: var(--mono);
      font-size: .9rem;
      color: rgba(255,255,255,.86);
      white-space: pre-wrap;
    }
    .snippet-actions{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 8px;
    }
    .hr{
      height:1px; background: rgba(255,255,255,.10);
      margin: 14px 0;
    }
    .notice{
      border: 1px solid rgba(255,211,139,.30);
      background: rgba(255,211,139,.10);
      border-radius: 14px;
      padding: 10px;
      color: rgba(255,255,255,.86);
    }
    .notice strong{color: var(--warn)}
    .footer{
      max-width:1100px;
      margin:0 auto;
      padding: 0 18px 30px;
      color: var(--muted);
      font-size:.9rem;
    }
    .muted{color: var(--muted)}
    .hidden{display:none !important;}
  </style>
</head>

<body>
<header>
  <div class="topbar">
    <div>
      <h1>Szenenanalyse-Hilfe: Ill beim Polizisten (DÃ¼rrenmatt)</h1>
      <p class="subtitle">
        Interaktive Hilfestellungen zum <strong>Verfassen</strong> und <strong>Analysieren</strong> der Szene:
        aufklappbare Tipps, Formulierungsbausteine, Beispiele und ein Mini-Check fÃ¼r Stil & Inhalt.
      </p>
      <div class="pillrow">
        <span class="pill">Themen: Moralverfall â€¢ Korruption â€¢ Institutionenversagen</span>
        <span class="pill">Motive: gelbe Schuhe â€¢ Radio â€¢ Gewehr â€¢ Panther/Jagd</span>
        <span class="pill">Werkzeuge: Bausteine â€¢ Copy-Paste â€¢ Checkliste</span>
      </div>
    </div>
    <div class="controls" aria-label="Schnellaktionen">
      <button class="btn-accent" id="openAll">Alles aufklappen</button>
      <button id="closeAll">Alles zuklappen</button>
      <button class="btn-good" id="fillTemplate">Vorlage ins Textfeld</button>
    </div>
  </div>
</header>

<main>
  <!-- LEFT: Writing workspace -->
  <section class="card" aria-labelledby="workspaceTitle">
    <header>
      <h2 id="workspaceTitle">Schreibbereich</h2>
      <p>Nutze die Bausteine rechts und die Tipps unten. Du kannst Formulierungen per Klick Ã¼bernehmen.</p>
    </header>
    <div class="content">
      <label class="small" for="mode">Modus</label>
      <select id="mode" class="input" style="margin-top:6px;">
        <option value="analysis">Szenenanalyse (ausformuliert)</option>
        <option value="summary">Kurze Inhaltsangabe (5â€“7 SÃ¤tze)</option>
        <option value="thesis">Deutung/These + Belege</option>
      </select>

      <div style="margin-top:12px;">
        <label class="small" for="text">Dein Text</label>
        <textarea id="text" placeholder="Schreibe hierâ€¦ (Tipp: Klicke rechts auf Bausteine, um sie einzufÃ¼gen.)" spellcheck="true" lang="de"></textarea>
      </div>

      <div class="controls" style="margin-top:10px;">
        <button class="btn-accent" id="copyText">Text kopieren</button>
        <button id="clearText">Leeren</button>
        <button id="runCheck">Mini-Check</button>
      </div>

      <div class="hr"></div>

      <div class="kpi" aria-label="Mini-Check Ergebnisse">
        <div class="box">
          <div class="label">Abschnitts-Check</div>
          <div class="value" id="secCheck">â€”</div>
        </div>
        <div class="box">
          <div class="label">Beleg-/Zitat-Hinweis</div>
          <div class="value" id="quoteHint">â€”</div>
        </div>
        <div class="box">
          <div class="label">Sprache & Klarheit</div>
          <div class="value" id="styleHint">â€”</div>
        </div>
      </div>

      <div id="checkDetails" class="notice hidden" style="margin-top:12px;"></div>
    </div>
  </section>

  <!-- RIGHT: Tips, helpers, examples -->
  <aside class="card" aria-labelledby="tipsTitle">
    <header>
      <h2 id="tipsTitle">Tipps, Bausteine & Beispiele</h2>
      <p>Aufklappen, auswÃ¤hlen, einfÃ¼gen. Alles ist auf diese konkrete Szene zugeschnitten.</p>
    </header>
    <div class="content">

      <div style="margin-bottom:10px;">
        <label class="small" for="search">Bausteine durchsuchen</label>
        <input id="search" class="input" placeholder="z.B. 'Institutionen', 'Symbol', 'Ironie', 'Panther'â€¦" />
      </div>

      <details data-topic="struktur aufbau gliederung einleitung einordnung inhalt analyse deutung schluss gesprÃ¤chssituation regieanweisungen">
  <summary>Struktur: Detaillierter Aufbau einer Szenenanalyse (Schritt-fÃ¼r-Schritt) <span class="chev"></span></summary>
  <div class="details-body">
    <div class="tag">Einleitung</div>
    <div class="tag">Einordnung</div>
    <div class="tag">Inhaltskern</div>
    <div class="tag">Analyse</div>
    <div class="tag">Deutung/Funktion</div>
    <div class="tag">Schluss</div>

    <p class="muted" style="margin-top:8px;">
      Ziel: Nicht nur nacherzÃ¤hlen, sondern zeigen, <strong>wie</strong> die Szene gebaut ist und <strong>wozu</strong> sie im Drama dient.
      Arbeite mit <strong>kurzen Textbelegen</strong> (auch Regieanweisungen).
    </p>

    <div class="hr"></div>

    <ol style="margin:0; padding-left:18px;">
      <li>
        <strong>Einleitung (1â€“3 SÃ¤tze)</strong><br/>
        Nenne <em>Autor</em>, <em>Titel</em>, <em>Textsorte</em (Drama), ggf. <em>Erscheinungsjahr/Epoche</em>.
        Formuliere das <strong>Thema</strong> der Szene in einem Satz (z.B. â€žIll sucht Schutz, aber die Institution versagtâ€œ).
      </li>
      <li style="margin-top:10px;">
        <strong>Einordnung in den Kontext (2â€“5 SÃ¤tze)</strong><br/>
        Ordne ein: <em>Akt/Ort</em>, was <strong>unmittelbar davor</strong> passiert (Claires Angebot) und was
        <strong>danach</strong> vorbereitet wird (Ills Ausgrenzung/Jagd-Motiv). Zeige kurz: Welche Beziehung haben die Figuren?
      </li>
      <li style="margin-top:10px;">
        <strong>Inhaltskern + Sinnabschnitte (kurz!)</strong><br/>
        1â€“2 SÃ¤tze Inhaltskern (Worum gehtâ€™s?). Dann gliedern (2â€“4 Sinnabschnitte):
        <ul style="margin:6px 0 0; padding-left:18px;">
          <li>Wer spricht/handelt? (Ill â†” Polizist; Claire als Macht im Hintergrund)</li>
          <li>Was Ã¤ndert sich? (von Hoffnung auf Schutz â†’ Erkenntnis: alle profitieren/stellen sich gegen Ill)</li>
          <li>Woran merkt man das? (gelbe Schuhe, teures Bier, Radio, Goldzahn, Gewehr)</li>
        </ul>
      </li>
      <li style="margin-top:10px;">
        <strong>Analyse-Teil (HerzstÃ¼ck)</strong><br/>
        Baue den Hauptteil in Bausteinen â€“ je nach Aufgabe 2â€“4 davon:
        <ul style="margin:6px 0 0; padding-left:18px;">
          <li>
            <strong>Figuren & Konstellation:</strong> Ziele/Motive, MachtverhÃ¤ltnisse, Rollenwechsel
            (Ill vom BÃ¼rger zum Opfer; Polizist als â€žOrdnungâ€œ, aber korrumpiert; Claire als Steuernde).
          </li>
          <li>
            <strong>GesprÃ¤chssituation / GesprÃ¤chsfÃ¼hrung:</strong> Wer dominiert? Welche Strategie?
            (Polizist: Ausweichen, Scheinlogik, Verharmlosung; Ill: DrÃ¤ngen, Indizien sammeln).
          </li>
          <li>
            <strong>Sprache + Regieanweisungen:</strong> Tempo/Gestus (gemÃ¤chlich, Bier, Pfeife),
            Ironie/Groteske, Wirkung auf Zuschauer. Regieanweisungen sind starke Belege.
          </li>
          <li>
            <strong>Symbole/Motive:</strong> gelbe Schuhe (Kredit-Wohlstand), Radio (â€žNormalitÃ¤tâ€œ), Goldzahn (Korruption),
            Gewehr (Staatsgewalt gegen Ill), Panther/Jagd (Ill als Beute).
          </li>
        </ul>
        <p class="muted" style="margin:8px 0 0;">
          <strong>Merksatz:</strong> Jede Analysebehauptung braucht: <em>Beleg</em> â†’ <em>Deutung</em> â†’ <em>Wirkung</em>.
        </p>
      </li>
      <li style="margin-top:10px;">
        <strong>Funktion & Deutung (3â€“6 SÃ¤tze)</strong><br/>
        Beantworte: <em>Wozu ist diese Szene im Drama da?</em><br/>
        Typisch hier: Entlarvung der KÃ¤uflichkeit + Versagen der Institutionen; Ill erkennt Mechanik
        (Kredit â†’ Wohlstand â†’ Notwendigkeit des Mordes).
      </li>
      <li style="margin-top:10px;">
        <strong>Schluss (1â€“3 SÃ¤tze)</strong><br/>
        Runde ab: wichtigste Aussage + kurzer Bezug zum Gesamtwerk (z.B. â€žkollektive Schuldâ€œ, Wendepunkt fÃ¼r Ill).
      </li>
    </ol>

    <div class="hr"></div>

    <p class="muted" style="margin:0 0 8px;">
      <strong>Mini-Gliederung zum Copy-Paste:</strong>
    </p>

    <div class="snippet" data-snippet>
1) Einleitung (Autor/Titel/Drama + Thema der Szene)
2) Einordnung (Akt/Ort + davor/danach + Beziehung der Figuren)
3) Inhaltskern + Sinnabschnitte (sehr knapp)
4) Analyse:
   - Figuren & Konstellation
   - GesprÃ¤chsstrategie / GesprÃ¤chssituation
   - Sprache & Regieanweisungen
   - Symbole/Motive (gelbe Schuhe, Radio, Goldzahn, Gewehr, Panther)
5) Funktion/Deutung (Aussage + Wirkung + Bezug zum Drama)
6) Schluss (kurze Abrundung)
    </div>
    <div class="snippet-actions">
      <button data-insert="snippet">In Text einfÃ¼gen</button>
      <button data-copy="snippet">Kopieren</button>
    </div>
  </div>
</details>


      <details data-topic="einleitung formulierungen kontext">
        <summary>Einleitung & Einordnung: Formulierungsbausteine <span class="chev"></span></summary>
        <div class="details-body">
          <div class="snippet" data-snippet>
Die Szene stammt aus dem zweiten Akt von Friedrich DÃ¼rrenmatts TragikomÃ¶die â€žDer Besuch der alten Dameâ€œ und spielt im Polizeiposten von GÃ¼llen. Ill sucht Hilfe bei der Polizei, nachdem Claire Zachanassian der Stadt eine Milliarde versprochen hat, falls die BÃ¼rger ihn tÃ¶ten. Dadurch gerÃ¤t das moralische GefÃ¼ge der Gemeinschaft ins Wanken, was in dieser Szene sichtbar wird.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <div class="snippet" data-snippet>
Im Zentrum der Szene steht der Konflikt zwischen Ills Anspruch auf Schutz durch Recht und Ordnung und dem zunehmenden moralischen Verfall der Stadt, der selbst staatliche Institutionen erfasst.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="inhalt zusammenfassung">
        <summary>Inhaltsangabe: 5â€“7 SÃ¤tze (Beispiel) <span class="chev"></span></summary>
        <div class="details-body">
          <div class="snippet" data-snippet>
Ill fordert vom Polizisten die Verhaftung Claire Zachanassians, weil sie die BÃ¼rger zum Mord an ihm auffordert. Der Polizist nimmt die Anzeige nicht ernst und argumentiert formaljuristisch, dass bei einem â€žÃ¼bertriebenenâ€œ Preis keine echte Anstiftung vorliege. WÃ¤hrenddessen zeigen neue KonsumgÃ¼ter und bessere Waren, dass die Stadt bereits auf den versprochenen Reichtum setzt. Ill beobachtet, dass selbst der Polizist neue gelbe Schuhe trÃ¤gt und teures Bier trinkt. SchlieÃŸlich richtet der Polizist beim Laden des Gewehrs unbewusst den Lauf auf Ill, obwohl er gleichzeitig behauptet, die Polizei schÃ¼tze den BÃ¼rger. Ill erkennt, dass die Stadt ihn wie eine Beute behandelt und letztlich â€žjagtâ€œ.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="figuren ill polizist claire charakterisierung">
        <summary>Figurenanalyse: Ill, Polizist, Claire (Argumentationshilfe) <span class="chev"></span></summary>
        <div class="details-body">
          <p><strong>Ill</strong> â€“ vom anerkannten BÃ¼rger zum AusgestoÃŸenen:</p>
          <div class="snippet" data-snippet>
Ill versucht, sich auf das Rechtssystem zu verlassen (â€žIch verlange die Verhaftungâ€¦â€œ), wirkt jedoch zunehmend verunsichert. Seine Beobachtungen (bessere Waren, neue gelbe Schuhe, Radio) zeigen, dass er die Mechanik hinter dem moralischen Umschlag erkennt: Die Stadt lebt bereits auf Kredit, der nur durch seinen Tod â€žbezahltâ€œ werden kann.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <p style="margin-top:10px;"><strong>Polizist</strong> â€“ Institutionenversagen + Teil der Korruption:</p>
          <div class="snippet" data-snippet>
Der Polizist beruft sich scheinbar nÃ¼chtern auf Gesetze, nutzt diese aber als Vorwand, nicht handeln zu mÃ¼ssen. Seine â€žLogikâ€œ (Milliarde = nicht ernst gemeint; ernst gemeint = verrÃ¼ckt) entlarvt die Ausfluchtstrategie. Gleichzeitig zeigt sein Konsum (Pilsener Bier, neue gelbe Schuhe, Goldzahn), dass auch er vom zukÃ¼nftigen Geld profitiert â€“ die staatliche NeutralitÃ¤t bricht.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <p style="margin-top:10px;"><strong>Claire</strong> â€“ Macht durch Geld, â€žRegieâ€œ im Hintergrund:</p>
          <div class="snippet" data-snippet>
Claire muss nicht offen drohen: Ihre beilÃ¤ufigen Befehle (â€žLaÃŸ die Dupont-Aktien aufkaufenâ€¦â€œ, internationale Post) demonstrieren wirtschaftliche und politische Reichweite. Dadurch wirkt sie wie eine Regisseurin, die das Verhalten der Stadt steuert, ohne selbst aktiv Gewalt auszuÃ¼ben.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="sprache dramaturgie ironie groteske regieanweisungen">
        <summary>Sprache & Dramaturgie: Was du zeigen kannst <span class="chev"></span></summary>
        <div class="details-body">
          <ul>
            <li><strong>Groteske Ironie:</strong> Der Polizist verspricht Schutz, wÃ¤hrend er das Gewehr lÃ¤dt.</li>
            <li><strong>Regieanweisungen</strong> (Bier trinken, Pfeife stopfen, gemÃ¤chlich): zeigen GleichgÃ¼ltigkeit.</li>
            <li><strong>Alltagssprache vs. Existenzbedrohung:</strong> Schuhe/Bier/Radio neben Mordthema â†’ Beklemmung.</li>
          </ul>
          <div class="snippet" data-snippet>
DÃ¼rrenmatt erzeugt Tragikomik, indem der Polizist in ruhigem Ton von â€žPflichtâ€œ und â€žGesetzenâ€œ spricht, wÃ¤hrend seine Handlungen (Pfeife stopfen, Bier trinken, Gewehr laden) eine gefÃ¤hrliche GleichgÃ¼ltigkeit gegenÃ¼ber Ills Situation sichtbar machen.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="symbole motive gelbe schuhe radio gewehr panther jagd">
        <summary>Symbole & Motive: gelbe Schuhe, Radio, Gewehr, Panther <span class="chev"></span></summary>
        <div class="details-body">
          <div class="tag">gelbe Schuhe</div><div class="tag">Radio</div><div class="tag">Goldzahn</div><div class="tag">Gewehr</div><div class="tag">Panther/Jagd</div>

          <div class="snippet" data-snippet>
Die â€žneuen gelben Schuheâ€œ fungieren als sichtbares Zeichen eines Wohlstands, der noch nicht real erwirtschaftet wurde. Sie stehen fÃ¼r die kollektive Vorwegnahme der Milliarde â€“ und damit fÃ¼r die Bereitschaft, den moralischen Preis (Ills Tod) zu zahlen.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <div class="snippet" data-snippet>
Das Radio (â€žDie Lustige Witweâ€œ) unterstreicht die Normalisierung des Ungeheuerlichen: Unterhaltung dringt in den Raum, wÃ¤hrend Ill um sein Leben kÃ¤mpft. Der Kontrast verstÃ¤rkt die KÃ¤lte der Gemeinschaft.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <div class="snippet" data-snippet>
Dass der Polizist am Ende das geladene Gewehr (unbewusst) auf Ill richtet, verdichtet die Aussage: Die Institution, die schÃ¼tzen soll, wird zum Bedrohungsapparat. Der Panther, den â€ždas ganze StÃ¤dtchenâ€œ jagt, spiegelt Ill als eigentliche Beute.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="deutung these argumentation">
        <summary>Deutung: Thesen + Formulierungsbeispiele <span class="chev"></span></summary>
        <div class="details-body">
          <p class="muted">WÃ¤hle eine These und stÃ¼tze sie mit 2â€“3 Beobachtungen (Schuhe/Bier/Goldzahn/Gewehr/Argumentation).</p>

          <div class="snippet" data-snippet>
These: Die Szene zeigt, wie wirtschaftliche Verlockung das Rechtsbewusstsein untergrÃ¤bt. Beleg: Der Polizist verweigert Hilfe mit scheinlogischen juristischen AusflÃ¼chten, wÃ¤hrend sein Konsum (teures Bier, neue Schuhe, Goldzahn) seine eigene KÃ¤uflichkeit offenlegt.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>

          <div class="snippet" data-snippet>
These: DÃ¼rrenmatt entlarvt die â€žMoralâ€œ der Gemeinschaft als Fassade. Obwohl niemand offen Ills Tod beschlieÃŸt, handeln die BÃ¼rger bereits so, als sei der Beschluss gefallen â€“ sichtbar an den Krediten und KonsumgÃ¼tern. Ill wird dadurch schrittweise zum Opfer gemacht.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="zitate belegen textbezug">
        <summary>Zitieren & Belegen: So bindest du Textstellen ein <span class="chev"></span></summary>
        <div class="details-body">
          <ul>
            <li>Kurze Zitate (1â€“8 WÃ¶rter) reichen oft: z.B. â€žMerkwÃ¼rdig. Ã„uÃŸerst merkwÃ¼rdig.â€œ</li>
            <li>Immer erklÃ¤ren: <em>Was zeigt das?</em> (GleichgÃ¼ltigkeit, Ausflucht, Verharmlosung)</li>
            <li>Regieanweisungen als Belege nutzen: â€žtrinkt Bierâ€œ, â€žzÃ¼ndet gemÃ¤chlich anâ€œ, â€žbeginnt das Gewehr zu ladenâ€œ</li>
          </ul>
          <div class="snippet" data-snippet>
Die wiederholte Formel â€žMerkwÃ¼rdig. Ã„uÃŸerst merkwÃ¼rdig.â€œ wirkt wie eine Schutzbehauptung: Der Polizist signalisiert Schein-NÃ¼chternheit, ohne Ills Lage ernsthaft zu prÃ¼fen. Gleichzeitig betonen Regieanweisungen wie â€žtrinkt Bierâ€œ seine GleichgÃ¼ltigkeit.
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

      <details data-topic="checkliste typische fehler">
        <summary>Checkliste: HÃ¤ufige Fehler vermeiden <span class="chev"></span></summary>
        <div class="details-body">
          <ul>
            <li><strong>Nur nacherzÃ¤hlen</strong> statt analysieren â†’ immer â€žzeigtâ€œ, â€žverdeutlichtâ€œ, â€žentlarvtâ€œ nutzen.</li>
            <li><strong>Zu allgemein</strong> (â€žalle sind bÃ¶seâ€œ) â†’ konkrete Belege: Schuhe, Bier, Goldzahn, Gewehr.</li>
            <li><strong>Keine Deutung</strong> â†’ Abschluss mit Aussage + Bezug zum Thema (Gier, KÃ¤uflichkeit, Recht).</li>
            <li><strong>Keine Begriffe</strong> â†’ z.B. â€žgroteske Ironieâ€œ, â€žSymbolikâ€œ, â€žDramatische Ironieâ€œ.</li>
          </ul>
          <div class="snippet" data-snippet>
Merksatz: Nicht nur â€žwas passiertâ€œ, sondern â€žwieâ€œ und â€žwozuâ€œ â€“ also Mittel (Sprache/Symbole) und Wirkung (Aussage Ã¼ber Moral/Recht).
          </div>
          <div class="snippet-actions">
            <button data-insert="snippet">EinfÃ¼gen</button>
            <button data-copy="snippet">Kopieren</button>
          </div>
        </div>
      </details>

    </div>
  </aside>
</main>

<div class="footer">
  <p class="muted">
    Hinweis: Diese Seite ist eine Lernhilfe. FÃ¼r eine gute Note zÃ¤hlt: klare Struktur, Textbelege (auch Regieanweisungen)
    und eine Deutung, die die Szene mit dem Grundkonflikt des Dramas verbindet.
  </p>
</div>

<script>
  const $ = (sel, el=document) => el.querySelector(sel);
  const $$ = (sel, el=document) => Array.from(el.querySelectorAll(sel));

  const textArea = $("#text");
  const modeSel  = $("#mode");
  const notice   = $("#checkDetails");
  const secCheck = $("#secCheck");
  const quoteHint= $("#quoteHint");
  const styleHint= $("#styleHint");

  // Insert/copy for snippets
  function getSnippet(btn){
    const wrap = btn.closest(".details-body") || btn.closest("details") || document;
    // If button is inside a snippet-actions, pick the snippet right above it
    const actions = btn.closest(".snippet-actions");
    if (actions){
      const prev = actions.previousElementSibling;
      if (prev && prev.classList.contains("snippet")) return prev.innerText.trim();
    }
    // fallback: first snippet in that section
    const s = wrap.querySelector(".snippet");
    return s ? s.innerText.trim() : "";
  }

  function insertAtCursor(text){
    const start = textArea.selectionStart ?? textArea.value.length;
    const end   = textArea.selectionEnd ?? textArea.value.length;
    const before = textArea.value.slice(0, start);
    const after  = textArea.value.slice(end);
    const needsNL = before && !before.endsWith("\n") ? "\n\n" : "";
    const needsNLEnd = after && !after.startsWith("\n") ? "\n\n" : "\n\n";
    textArea.value = before + needsNL + text + needsNLEnd + after;
    const pos = (before + needsNL + text + "\n\n").length;
    textArea.focus();
    textArea.setSelectionRange(pos, pos);
  }

  function copyToClipboard(str){
    navigator.clipboard.writeText(str).then(()=>{
      toast("Kopiert âœ…");
    }).catch(()=>{
      // fallback
      const tmp = document.createElement("textarea");
      tmp.value = str;
      document.body.appendChild(tmp);
      tmp.select();
      document.execCommand("copy");
      tmp.remove();
      toast("Kopiert âœ…");
    });
  }

  // Tiny toast
  const t = document.createElement("div");
  t.style.position="fixed";
  t.style.left="50%";
  t.style.bottom="18px";
  t.style.transform="translateX(-50%)";
  t.style.padding="10px 12px";
  t.style.border="1px solid rgba(255,255,255,.18)";
  t.style.borderRadius="12px";
  t.style.background="rgba(0,0,0,.5)";
  t.style.color="rgba(255,255,255,.9)";
  t.style.backdropFilter="blur(8px)";
  t.style.boxShadow="0 10px 30px rgba(0,0,0,.35)";
  t.style.fontSize=".92rem";
  t.style.opacity="0";
  t.style.pointerEvents="none";
  t.style.transition="opacity .2s ease";
  document.body.appendChild(t);
  let toastTimer=null;
  function toast(msg){
    t.textContent = msg;
    t.style.opacity="1";
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=> t.style.opacity="0", 1100);
  }

  // Wire buttons
  $$("button[data-insert]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const snip = getSnippet(btn);
      if(!snip) return;
      insertAtCursor(snip);
      toast("EingefÃ¼gt âœï¸");
    });
  });
  $$("button[data-copy]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const snip = getSnippet(btn);
      if(!snip) return;
      copyToClipboard(snip);
    });
  });

  // Open/close all
  $("#openAll").addEventListener("click", ()=>{
    $$("details").forEach(d=> d.open = true);
  });
  $("#closeAll").addEventListener("click", ()=>{
    $$("details").forEach(d=> d.open = false);
  });

  // Fill template
  const templates = {
    analysis:
`1) Einordnung
- Autor, Titel, Akt/Ort, Situation vor der Szene (Claires Angebot, Armut GÃ¼llens).

2) Inhaltsangabe (kurz)
- Was passiert in der Szene? (Ill â†’ Polizei; Polizei blockt ab; Zeichen der Korruption).

3) Analyse
- Figuren (Ill / Polizist / Claire): Ziele, Verhalten, MachtverhÃ¤ltnisse.
- Sprache & Regieanweisungen: Tempo, Ironie, Groteske, Wirkung.
- Symbole/Motive: gelbe Schuhe, Radio, Goldzahn, Gewehr, Panther/Jagd.

4) Deutung / Aussage
- Was kritisiert DÃ¼rrenmatt? (KÃ¤uflichkeit, Institutionenversagen, Moral als Fassade)
- Bezug zum Gesamtdrama: Ills Ausgrenzung, kollektive Schuld.`,
    summary:
`Schreibe 5â€“7 SÃ¤tze:
- Ausgangslage: Ill fÃ¼hlt sich bedroht und geht zur Polizei.
- Handlung: Anzeige/Verhaftungsforderung â€“ Reaktion des Polizisten.
- Beobachtung: KonsumgÃ¼ter/gelbe Schuhe/teures Bier â€“ Stadt lebt auf Kredit.
- Wendung: Gewehr auf Ill â€“ Schutzbehauptung der Polizei wird ironisch gebrochen.
- Schluss: Ill erkennt die â€žJagdâ€œ auf ihn.`,
    thesis:
`These (1 Satz):
â†’ â€¦

BegrÃ¼ndung (2â€“3 Punkte, jeweils mit Beleg):
1) â€¦
   Beleg (kurzes Zitat oder Regieanweisung): â€žâ€¦â€œ / (trinkt Bier / lÃ¤dt Gewehr)
   ErklÃ¤rung: â€¦
2) â€¦
3) â€¦

Schluss (1â€“2 SÃ¤tze):
â†’ Aussage der Szene + Verbindung zum Drama (Moral, Geld, kollektive Schuld).`
  };

  $("#fillTemplate").addEventListener("click", ()=>{
    const key = modeSel.value;
    textArea.value = templates[key] + "\n";
    textArea.focus();
    toast("Vorlage eingefÃ¼gt ðŸ§©");
  });

  $("#copyText").addEventListener("click", ()=>{
    const val = textArea.value.trim();
    if(!val){ toast("Nichts zum Kopieren"); return; }
    copyToClipboard(val);
  });

  $("#clearText").addEventListener("click", ()=>{
    textArea.value = "";
    notice.classList.add("hidden");
    secCheck.textContent = "â€”";
    quoteHint.textContent = "â€”";
    styleHint.textContent = "â€”";
    toast("Geleert");
  });

  // Search filter for details (by data-topic + content)
  $("#search").addEventListener("input", (e)=>{
    const q = e.target.value.trim().toLowerCase();
    $$("details").forEach(d=>{
      const topic = (d.getAttribute("data-topic") || "").toLowerCase();
      const text = d.innerText.toLowerCase();
      const hit = !q || topic.includes(q) || text.includes(q);
      d.classList.toggle("hidden", !hit);
    });
  });

  // Mini-check (simple heuristics)
  function runMiniCheck(){
    const txt = textArea.value;
    const lc = txt.toLowerCase();

    // Section check
    const expects = {
      analysis: ["einordnung", "inhalt", "analyse", "deutung"],
      summary:  ["ill", "poliz", "claire"],
      thesis:   ["these", "beleg", "schluss"]
    };
    const key = modeSel.value;
    const need = expects[key];

    let found = 0;
    need.forEach(k=>{
      if(lc.includes(k)) found++;
    });

    if(key==="analysis"){
      secCheck.textContent = found >= 3 ? "ok âœ“ (mind. 3/4 erkennbar)" : "ausbaufÃ¤hig (Struktur ergÃ¤nzen)";
    } else if(key==="summary"){
      secCheck.textContent = (txt.split(/[.!?]\s/).filter(Boolean).length >= 5) ? "ok âœ“ (genug SÃ¤tze)" : "zu kurz (5â€“7 SÃ¤tze)";
    } else {
      secCheck.textContent = found >= 2 ? "ok âœ“" : "Bausteine ergÃ¤nzen (These/Beleg/Schluss)";
    }

    // Quote hint
    const hasQuotes = /â€ž[^â€œ]{1,80}â€œ/.test(txt) || /"[^"]{1,80}"/.test(txt) || /\(.*trinkt bier.*\)/i.test(txt);
    quoteHint.textContent = hasQuotes ? "Textbeleg vorhanden âœ“" : "Tipp: 1â€“2 kurze Belege/Zitate einbauen";

    // Style hint
    const filler = ["irgendwie", "halt", "total", "mega", "krass", "sozusagen"];
    const fillerHits = filler.filter(w => lc.includes(w)).length;
    const longSentences = txt.split(/[.!?]/).map(s=>s.trim()).filter(Boolean).some(s=> s.split(/\s+/).length > 32);

    let s = [];
    if(fillerHits>0) s.push("FÃ¼llwÃ¶rter reduzieren");
    if(longSentences) s.push("SÃ¤tze kÃ¼rzen");
    if(!/zeigt|verdeutlicht|entlarvt|symbol|iron/i.test(lc)) s.push("Analyseverben/Begriffe ergÃ¤nzen");

    styleHint.textContent = s.length ? s.join(" Â· ") : "klar âœ“";

    // Detailed feedback
    const tips = [];
    if(!/gelbe.*schuh|radio|gewehr|panther|goldzahn/i.test(lc)){
      tips.push("Symbole/Motive aus der Szene einbauen (gelbe Schuhe, Radio, Gewehr, Panther, Goldzahn).");
    }
    if(!/polizei|gesetz|pflicht|institution/i.test(lc)){
      tips.push("Institutionenversagen thematisieren (Polizei als Schutzbehauptung).");
    }
    if(!/korrupt|kÃ¤uflich|moral|gier|kollektiv/i.test(lc)){
      tips.push("Deutung schÃ¤rfen: KÃ¤uflichkeit/Moralverfall/kollektive Schuld.");
    }
    if(tips.length){
      notice.innerHTML = "<strong>VerbesserungsvorschlÃ¤ge:</strong><ul style='margin:8px 0 0; padding-left:18px; color: rgba(255,255,255,.86)'>" +
        tips.map(t=>`<li>${t}</li>`).join("") + "</ul>";
      notice.classList.remove("hidden");
    } else {
      notice.classList.add("hidden");
    }

    toast("Check abgeschlossen âœ…");
  }

  $("#runCheck").addEventListener("click", runMiniCheck);

  // Mode change: update placeholder lightly
  modeSel.addEventListener("change", ()=>{
    const key = modeSel.value;
    const placeholders = {
      analysis: "Schreibe deine Szenenanalyseâ€¦ (Einordnung â†’ Inhalt â†’ Analyse â†’ Deutung)",
      summary: "Schreibe 5â€“7 SÃ¤tze Inhaltsangabeâ€¦",
      thesis: "Formuliere eine These und stÃ¼tze sie mit Belegenâ€¦"
    };
    textArea.placeholder = placeholders[key];
  });
</script>
</body>
</html>
